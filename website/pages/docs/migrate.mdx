import { Callout } from 'nextra-theme-docs'

import EditorMovie from "../../src/movies/editor/EditorMovie";

# Migration from Swagger
## Outline
<Callout type="warning">
Supports OpenAPI v3.0 only.
</Callout>

```bash filename="Terminal" copy showLineNumbers {}
npx @nestia/migrate
```

`@nestia/migrate` converts `swagger.json` file to:

  - NestJS Project
  - Standalone [SDK Library](./sdk/sdk)
  - Standalone [Mockup Simulator](./sdk/simulator)

When you run `npx @nestia/migrate` command, `@nestia/migrate` will analyze your `swagger.json` file, and generate a NestJS project into the `output` direcory. If you're considering to migrate your backend project to NestJS, @nestia/migrate will be a good starting point.

Of course, even if you're not considering to adapt NestJS, you can generate standalone [SDK library](./sdk/sdk) and [Mockup Simulator](./sdk/simulator) from the `swagger.json` file instead. Just run the `npx @nestia/migrate` command and build the SDK library and Mockup Simulator, then frontend (client) developers may get satisfied.

![SDK](https://user-images.githubusercontent.com/13158709/215004990-368c589d-7101-404e-b81b-fbc936382f05.gif)

> Left is NestJS server code, and right is client (frontend) code utilizing SDK




## Arguments
```bash filename="Terminal" copy showLineNumbers {}
# GRAMMER
npx @nestia/migrate 
  --mode [nest|sdk] 
  --input [input] 
  --output [output] 
  --simulate [true|false]
  --e2e [true|false]

# EXAMPLES
npx @nestia/migrate --mode nest --input swagger.json --output directory --simulate false --e2e false
npx @nestia/migrate --mode sdk --input swagger.json --output directory --simulate true --e2e true
```

You can specify migration options like above. 

However, don't worry anything. If you omit something, prompt inquiries will help you. 

```bash
npx @nestia/migrate
? Migration mode (Use arrow keys):
  > NestJS
    SDK
? Swagger file location: assets/input/clickhouse.json
? Output directory path: assets/output/clickhouse-sdk-manual
? Mokup Simulator: true
? E2E Test Functions: true
```




## Cloud Editor
You can test `@nestia/migrate` on the web browser.

Visit [TypeScript Swagger Editor](./editor) and upload your `swagger.json` file. 

Then, you can test the migrated NestJS Project, SDK library and Mockup Simulator in the web browser. 

<Callout type="warning">
  Supports OpenAPI v3.0 only.
</Callout>

<EditorMovie mode="nest" />

> Put your `swagger.json` file, then "TypeScript Swagger Editor" be opened.

  - Demo Editors
    - BBS (Bullet-in Board System): [NestJS Project](https://stackblitz.com/edit/jjqnuw?file=README.md&startScript=build:test,test) / [SDK & Simulator](https://stackblitz.com/edit/qwxcjq?file=README.md,test%2Fstart.ts&startScript=test:simulate)
    - Shopping Mall: [NestJS Project](https://stackblitz.com/edit/1g6adb?file=README.md&startScript=build:test,test) / [SDK & Simulator](https://stackblitz.com/edit/zpm7vq?file=README.md,test%2Fstart.ts&startScript=test:simulate)
    - Clickhouse: [NestJS Project](https://stackblitz.com/edit/fzenpq?file=README.md&startScript=build:test,test) / [SDK & Simulator](https://stackblitz.com/edit/b22czd?file=README.md,test%2Fstart.ts&startScript=test:simulate)
    - Fireblocks: [NestJS Project](https://stackblitz.com/edit/rraebz?file=README.md&startScript=build:test,test) / [SDK & Simulator](https://stackblitz.com/edit/yxpdw5?file=README.md,test%2Fstart.ts&startScript=test:simulate)
    - 아임포트: [NestJS Project](https://stackblitz.com/edit/5wzs6p?file=README.md&startScript=build:test,test) / [SDK & Simulator](https://stackblitz.com/edit/9nxj5y?file=README.md,test%2Fstart.ts&startScript=test:simulate)
    - 토스페이먼츠: [NestJS Project](https://stackblitz.com/edit/ssvg4n?file=README.md&startScript=build:test,test) [SDK & Simulator](https://stackblitz.com/edit/gcdzye?file=README.md,test%2Fstart.ts&startScript=test:simulate)

[![Example Case](/images/editor/stackblitz.png)](https://stackblitz.com/edit/1g6adb?file=README.md&startScript=build:test,test)